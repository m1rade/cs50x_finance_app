{% extends "layout.html" %}

{% block title %}
    Stock market
{% endblock %}

{% block main %}

    <form action="/quote" method="post">
        <div class="col-4 mx-auto mb-5">
            <input autocomplete="off" autofocus class="form-control" id="symbol" name="symbol" placeholder="Stock symbol (e.g.: NFLX)" type="text">
        </div>
        <div class="d-grid col-3 mx-auto mb-5">
            <button class="btn btn-primary" type="submit">Search</button>
        </div>
    </form>


    <!-- if lookup was successful -->
    {% if stock_quote %}
    <table class="table table-hover justify-content-center">
        <thead>
            <tr>
                <th scope="col">Symbol</th>
                <th scope="col">Name</th>
                <th scope="col">Price</th>
            </tr>
        </thead>
        <tbody>
            <!-- Print search result in a table -->
            <tr>
                    <td>{{ stock_quote["symbol"] }}</td>
                    <td>{{ stock_quote["name"] }}</td>
                    <td>{{ stock_quote["price"] | usd}}</td>
                </tr>
            </tbody>
        </table>
    {% elif message %}
        <h2>{{ message }}</h2>
    {% endif %}

{% endblock %}