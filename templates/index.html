{% extends "layout.html" %}

{% block title%}
    Account
{% endblock%}

{% block main%}
    {% if rows %}
        <div class="container mx-auto">
            <h1 class="mb-5">Portfolio</h1>
        </div>

        <div class="container mx-auto">
            <table class="table table-striped table-hover justify-content-center">
                <thead>
                    <tr>
                        <th class="scope">#</th>
                        <th class="scope">Symbol</th>
                        <th class="scope">Name</th>
                        <th class="scope text-end">Price</th>
                        <th class="scope text-end">Shares</th>
                        <th class="scope text-end">Total</th>
                    </tr>
                </thead>
                <tbody>
                    {% for row in rows %}
                        <tr>
                            <td>{{ loop.index }}</td>
                            <td>{{ row.symbol }}</td>
                            <td>{{ row.stock }}</td>
                            <td class="text-end">{{ row.price | float | usd }}</td>
                            <td class="text-end">{{ row.quantity }}</td>
                            <td class="text-end">{{ row.total_price | float | usd }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
                <tfoot class="text-end">
                    <tr class="table-primary">
                        <td colspan="5">Remain cash: </td>
                        <td>{{ cash | usd }}</td>
                    </tr>
                    <tr class="table-danger">
                        <th colspan="5">TOTAL: </th>
                        <th>{{ sum | usd }}</th>
                    </tr>
                </tfoot>
            </table>
        </div>
    {% else %}
    <div class="container mx-auto">
        <h1 class="mb-5">No Portfolio Yet</h1>
        <h3>Your balance: {{ money | usd }} </h3>
    </div>
    {% endif %}


{% endblock%}